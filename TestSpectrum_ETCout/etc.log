#-4FS_ETC.c:Comment:  The command line (2 args) was: 4FS_ETC PARAM_FILENAME=TestSpectrum_ETCout/ETC_input_params_tmp.txt 
#Type   Name                         Current Value                                      DIM Req Sup dim C/F? Comment
 STRING PARAM_FILENAME               TestSpectrum_ETCout/ETC_input_params_tmp.txt         1  no yes   1 CMDL Input parameters filename
 SWITCH --help                       FALSE                                                0  no  no   0 .... Print help information and exit
 SWITCH --usage                      FALSE                                                0  no  no   0 .... Print short usage instructions and exit
 SWITCH --version                    FALSE                                                0  no  no   0 .... Print version information and exit
 SWITCH --example                    FALSE                                                0  no  no   0 .... Print example input params file and exit
 SWITCH --debug                      FALSE                                                0  no  no   0 .... Run in debug mode (verbose output etc)
 STRING SIM.CODE_NAME                TestSpectrum                                         1  no yes   1 FILE Human readable codename for this run of the 4FS_TS
 STRING SIM.OUTDIR                   TestSpectrum_ETCout/                                 1  no yes   1 FILE Where should we put the output files?
 STRING SIM.MODE                     CALC_SNR                                             1  no yes   1 FILE Should we calculate SNR from given TEXP, or TEXP/MAG from given SNR? (CALC_SNR,CALC_TEXP,CALC_MAG)
 STRING SIM.OUTPUT                   SUMMARY,SPECTRA_FLUENCE,SPECTRA_NOISE, SPECTRA_SNR    1  no yes   1 FILE Which output types to produce? (ADD LIST OF OPTIONS HERE)
 STRING SIM.SPECFORMAT               TABLE,NATIVE                                         1  no yes   1 FILE Which output spectral formats should be produced? (IMAGE,TABLE;NATIVE,RESAMPLED)
   BOOL SIM.CLOBBER                  FALSE                                                1  no yes   1 FILE Run in clobber mode? (existing output files will be overwritten)
 STRING TEMPLATES.FILENAME           TestSpectrum_ETCout/tmp.ETC                          1 yes yes   1 FILE Name of file containing the list of spectral templates
 STRING RULELIST.FILENAME            NONE                                                 1  no yes   1 FILE Name of file containing the list of spectral success rules
 STRING RULESETLIST.FILENAME         NONE                                                 1  no yes   1 FILE Name of file containing the list of spectral success rulesets
 STRING FIBRECOUPLING.TYPE           FILE                                                 1  no yes   1 FILE Method by which fibre entrance losses are calculated (FIXED,SEEING,MATRIX)
 STRING FIBRECOUPLING.FILENAME       //Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/fibre_coupling/geometrical_throughput.fits    1  no yes   1 FILE Name of file containing the matrix of fibre-coupling values (used when FIBRECOUPLING.TYPE='MATRIX')
 DOUBLE FIBRECOUPLING.FRAC_SCIENCE   1                                                    1  no  no   1 .... Fraction of science light transmitted down fibre (used when FIBRECOUPLING.TYPE='FIXED')
 DOUBLE FIBRECOUPLING.FRAC_SKY       1                                                    1  no yes   1 FILE Fraction of sky transmitted down fibre (used when FIBRECOUPLING.TYPE='*')
 STRING FIBRECOUPLING.SEEING_PROFILE GAUSSIAN                                             1  no  no   1 .... Functional form of seeing profile (GAUSSIAN or MOFFAT, used when FIBRECOUPLING.TYPE='SEEING')
 DOUBLE SPECTRO.FIBRE_DIAM           1.45                                                 1  no yes   1 FILE Fibre diameter (arcsec)
 DOUBLE SPECTRO.EFFECTIVE_AREA       8.3975                                               1  no yes   1 FILE Effective collecting area of telescope (m^2)
 DOUBLE SPECTRO.SKYSUB_RESIDUAL      0                                                    1  no yes   1 FILE Fractional uncertaintity on sky subtraction
    INT SIM.NUM_FILTERS              5                                                    1  no yes   1 FILE Number of filters (for calculating synthetic mags)
 STRING SIM.NORM_FILTER1.NAME        SDSS u                                               1  no yes   1 FILE Short name for filter (e.g. 'r','B','u*')
 STRING SIM.NORM_FILTER1.FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/filter_curves/SDSS_u_transmission_curve.fits    1  no yes   1 FILE Name of file containing the normalising filter bandpass
 STRING SIM.NORM_FILTER2.NAME        SDSS g                                               1  no yes   1 FILE Short name for filter (e.g. 'r','B','u*')
 STRING SIM.NORM_FILTER2.FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/filter_curves/SDSS_g_transmission_curve.fits    1  no yes   1 FILE Name of file containing the normalising filter bandpass
 STRING SIM.NORM_FILTER3.NAME        SDSS r                                               1  no yes   1 FILE Short name for filter (e.g. 'r','B','u*')
 STRING SIM.NORM_FILTER3.FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/filter_curves/SDSS_r_transmission_curve.fits    1  no yes   1 FILE Name of file containing the normalising filter bandpass
 STRING SIM.NORM_FILTER4.NAME        SDSS i                                               1  no yes   1 FILE Short name for filter (e.g. 'r','B','u*')
 STRING SIM.NORM_FILTER4.FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/filter_curves/SDSS_i_transmission_curve.fits    1  no yes   1 FILE Name of file containing the normalising filter bandpass
 STRING SIM.NORM_FILTER5.NAME        SDSS z                                               1  no yes   1 FILE Short name for filter (e.g. 'r','B','u*')
 STRING SIM.NORM_FILTER5.FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/filter_curves/SDSS_z_transmission_curve.fits    1  no yes   1 FILE Name of file containing the normalising filter bandpass
 STRING SIM.NORM_FILTER.MAGSYS       AB                                                   1  no yes   1 FILE Magnitude system for normailsing templates (AB,Vega)
    INT SPECTRO.NUM_ARMS             3                                                    1 yes yes   1 FILE Number of spectrograph arms
 STRING SPECTRO.ARM1.CODENAME        LRS_blue                                             1  no yes   1 FILE Codename for spectrograph arm
 STRING SPECTRO.ARM1.RES_FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/4MOST_LRS_resolution_curve_middle_interp_blue.fits    1 yes yes   1 FILE Filename describing spectral resolution
 STRING SPECTRO.ARM1.TPUT_FILENAME   /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/lrs_blue_material_4fs_efficiency_total.fits    1 yes yes   1 FILE Filename describing spectral throughput
 DOUBLE SPECTRO.ARM1.APER_SIZE       4                                                    1  no yes   1 FILE Effective size of software aperture in the cross-dispersion direction (unbinned pix)
 DOUBLE SPECTRO.ARM1.APER_EEF        0.9545                                               1  no yes   1 FILE Fraction of flux contained within the software aperture
 DOUBLE SPECTRO.ARM1.PEAK_PIX_FRAC   0.3702                                               1  no yes   1 FILE The maximum fraction of the flux that is contained within a single pixel (in the cross-dispersion direction, after on-chip binning)
 DOUBLE SPECTRO.ARM1.PIXEL_SIZE      15                                                   1  no  no   1 .... Pixel size (um, in the dispersion direction)
 DOUBLE SPECTRO.ARM1.READ_NOISE      2.5                                                  1  no yes   1 FILE CCD read noise (e-/pix)
 DOUBLE SPECTRO.ARM1.DARK_CURRENT    3                                                    1  no yes   1 FILE CCD dark current (e-/hr/pix)
 DOUBLE SPECTRO.ARM1.FULL_WELL       350000                                               1  no yes   1 FILE Full well capacity of the CCD (e-/pix)
    INT SPECTRO.ARM1.BINNING.DISP    1                                                    1  no yes   1 FILE On-chip binning in dispersion direction
    INT SPECTRO.ARM1.BINNING.CROSS   1                                                    1  no yes   1 FILE On-chip binning in cross-dispersion direction
 STRING SPECTRO.ARM1.LAMBDA.TYPE     FULLFILE                                             1  no yes   1 FILE Type of dispersion description, LINEAR, from DISPFILE, or FULLFILE
 STRING SPECTRO.ARM1.LAMBDA.FILENAME /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/4MOST_LRS_wavelength_solution_middle_interp_blue.fits    1 yes yes   1 FILE Filename describing wavelength solution (dispersion scale or full lambda solution)
    INT SPECTRO.ARM1.LAMBDA.NUMPIX   4096                                                 1  no  no   1 .... Number of CCD pixels in the dispersion direction
 DOUBLE SPECTRO.ARM1.LAMBDA.REFPIX   2048                                                 1  no  no   1 .... Coordinate of the reference pixel
 DOUBLE SPECTRO.ARM1.LAMBDA.REFVAL   400                                                  1  no  no   1 .... Wavelength at the reference pixel (AA)
 DOUBLE SPECTRO.ARM1.LAMBDA.DISP     0.1                                                  1  no  no   1 .... Linear dispersion scale (AA/pix)
 STRING SPECTRO.ARM2.CODENAME        LRS_green                                            1  no yes   1 FILE Codename for spectrograph arm
 STRING SPECTRO.ARM2.RES_FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/4MOST_LRS_resolution_curve_middle_interp_green.fits    1 yes yes   1 FILE Filename describing spectral resolution
 STRING SPECTRO.ARM2.TPUT_FILENAME   /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/lrs_green_material_4fs_efficiency_total.fits    1 yes yes   1 FILE Filename describing spectral throughput
 DOUBLE SPECTRO.ARM2.APER_SIZE       4                                                    1  no yes   1 FILE Effective size of software aperture in the cross-dispersion direction (unbinned pix)
 DOUBLE SPECTRO.ARM2.APER_EEF        0.9545                                               1  no yes   1 FILE Fraction of flux contained within the software aperture
 DOUBLE SPECTRO.ARM2.PEAK_PIX_FRAC   0.3702                                               1  no yes   1 FILE The maximum fraction of the flux that is contained within a single pixel (in the cross-dispersion direction, after on-chip binning)
 DOUBLE SPECTRO.ARM2.PIXEL_SIZE      15                                                   1  no  no   1 .... Pixel size (um, in the dispersion direction)
 DOUBLE SPECTRO.ARM2.READ_NOISE      2.5                                                  1  no yes   1 FILE CCD read noise (e-/pix)
 DOUBLE SPECTRO.ARM2.DARK_CURRENT    3                                                    1  no yes   1 FILE CCD dark current (e-/hr/pix)
 DOUBLE SPECTRO.ARM2.FULL_WELL       350000                                               1  no yes   1 FILE Full well capacity of the CCD (e-/pix)
    INT SPECTRO.ARM2.BINNING.DISP    1                                                    1  no yes   1 FILE On-chip binning in dispersion direction
    INT SPECTRO.ARM2.BINNING.CROSS   1                                                    1  no yes   1 FILE On-chip binning in cross-dispersion direction
 STRING SPECTRO.ARM2.LAMBDA.TYPE     FULLFILE                                             1  no yes   1 FILE Type of dispersion description, LINEAR, from DISPFILE, or FULLFILE
 STRING SPECTRO.ARM2.LAMBDA.FILENAME /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/4MOST_LRS_wavelength_solution_middle_interp_green.fits    1 yes yes   1 FILE Filename describing wavelength solution (dispersion scale or full lambda solution)
    INT SPECTRO.ARM2.LAMBDA.NUMPIX   4096                                                 1  no  no   1 .... Number of CCD pixels in the dispersion direction
 DOUBLE SPECTRO.ARM2.LAMBDA.REFPIX   2048                                                 1  no  no   1 .... Coordinate of the reference pixel
 DOUBLE SPECTRO.ARM2.LAMBDA.REFVAL   400                                                  1  no  no   1 .... Wavelength at the reference pixel (AA)
 DOUBLE SPECTRO.ARM2.LAMBDA.DISP     0.1                                                  1  no  no   1 .... Linear dispersion scale (AA/pix)
 STRING SPECTRO.ARM3.CODENAME        LRS_red                                              1  no yes   1 FILE Codename for spectrograph arm
 STRING SPECTRO.ARM3.RES_FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/4MOST_LRS_resolution_curve_middle_interp_red.fits    1 yes yes   1 FILE Filename describing spectral resolution
 STRING SPECTRO.ARM3.TPUT_FILENAME   /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/lrs_red_material_4fs_efficiency_total.fits    1 yes yes   1 FILE Filename describing spectral throughput
 DOUBLE SPECTRO.ARM3.APER_SIZE       4                                                    1  no yes   1 FILE Effective size of software aperture in the cross-dispersion direction (unbinned pix)
 DOUBLE SPECTRO.ARM3.APER_EEF        0.9545                                               1  no yes   1 FILE Fraction of flux contained within the software aperture
 DOUBLE SPECTRO.ARM3.PEAK_PIX_FRAC   0.3702                                               1  no yes   1 FILE The maximum fraction of the flux that is contained within a single pixel (in the cross-dispersion direction, after on-chip binning)
 DOUBLE SPECTRO.ARM3.PIXEL_SIZE      15                                                   1  no  no   1 .... Pixel size (um, in the dispersion direction)
 DOUBLE SPECTRO.ARM3.READ_NOISE      2.5                                                  1  no yes   1 FILE CCD read noise (e-/pix)
 DOUBLE SPECTRO.ARM3.DARK_CURRENT    3                                                    1  no yes   1 FILE CCD dark current (e-/hr/pix)
 DOUBLE SPECTRO.ARM3.FULL_WELL       350000                                               1  no yes   1 FILE Full well capacity of the CCD (e-/pix)
    INT SPECTRO.ARM3.BINNING.DISP    1                                                    1  no yes   1 FILE On-chip binning in dispersion direction
    INT SPECTRO.ARM3.BINNING.CROSS   1                                                    1  no yes   1 FILE On-chip binning in cross-dispersion direction
 STRING SPECTRO.ARM3.LAMBDA.TYPE     FULLFILE                                             1  no yes   1 FILE Type of dispersion description, LINEAR, from DISPFILE, or FULLFILE
 STRING SPECTRO.ARM3.LAMBDA.FILENAME /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/LRS/4MOST_LRS_wavelength_solution_middle_interp_red.fits    1 yes yes   1 FILE Filename describing wavelength solution (dispersion scale or full lambda solution)
    INT SPECTRO.ARM3.LAMBDA.NUMPIX   4096                                                 1  no  no   1 .... Number of CCD pixels in the dispersion direction
 DOUBLE SPECTRO.ARM3.LAMBDA.REFPIX   2048                                                 1  no  no   1 .... Coordinate of the reference pixel
 DOUBLE SPECTRO.ARM3.LAMBDA.REFVAL   400                                                  1  no  no   1 .... Wavelength at the reference pixel (AA)
 DOUBLE SPECTRO.ARM3.LAMBDA.DISP     0.1                                                  1  no  no   1 .... Linear dispersion scale (AA/pix)
 STRING SKY.TRANSMISSION.FILENAME    /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/sky/paranal_sky_transmission_vectors.fits    1 yes yes   1 FILE Name of file containing the sky transmission info
 STRING SKY.EMISSION.FILENAME        /Applications/4FS-ETC_app/4FS_ETC_system_model_v0.2/sky/paranal_sky_emission_vectors.fits    1 yes yes   1 FILE Name of file containing the sky emission info
 STRING OBS_PARAMS.INTERP_METHOD     NEAREST                                              1  no yes   1 FILE Method to use when interpolating obs params grid: NEAREST,LINEAR,SPLINE
 STRING OBS_PARAMS.SKYBRIGHT_TYPE    ZENITH                                               1  no yes   1 FILE Is the specified sky brightness to be measured at ZENITH or LOCALly?
 DOUBLE OBS_PARAMS.AIRMASS           1.4                                                 20  no yes   1 FILE List of airmasses to simulate
 DOUBLE OBS_PARAMS.IQ                1.1                                                 20  no yes   1 FILE List of delivered image quality values to simulate (V-band,FWHM,arcsec)
 DOUBLE OBS_PARAMS.SKYBRIGHT         21.77                                               20  no yes   1 FILE List of sky brightnesses to simulate (V-band,ABmag/arcsec2)
 DOUBLE OBS_PARAMS.TILT              6                                                   20  no yes   1 FILE List of tilts to simulate (mm)
 DOUBLE OBS_PARAMS.MISALIGNMENT      0.1                                                 20  no yes   1 FILE List of fibre->target misalignments to simulate (arcsec)
 DOUBLE OBS_PARAMS.TEXP              7200                                                20  no yes   1 FILE List of total exposure times to simulate (sec)
    INT OBS_PARAMS.NSUB              4                                                   20  no yes   1 FILE List of numbers of sub-exposures to simulate
#-utensils_lib.c : Comment : Seeding the drand48() random number generator with this seed (long): 626417308
#-utensils_lib.c : Comment : Seeding the random()  random number generator with this seed (uint): 626417308
#-ETC_input_params_lib.c : Comment : Interpreting spectrograph parameters
#-ETC_input_params_lib.c : Comment : Interpreting sky parameters
#-ETC_input_params_lib.c : Comment : Interpreting templatelist parameters
#-ETC_input_params_lib.c : Comment : Interpreting observing conditions parameters
#-ETC_input_params_lib.c : Comment : Interpreting simulation control parameters for sim run: "TestSpectrum"
#-ETC_input_params_lib.c : Comment : Interpreting spectral success rules parameters
#-4FS_ETC.c:Comment:  Setting up requested sky conditions arrays: num_sky_trans=1 num_sky_emiss=1 interp=NEAREST skybright_type=ZENITH
#-4FS_ETC.c:Comment:  Number of combinations of observing conditions: 1 (Nairmass,Nskybright,NIQ,Ntilt,Nmisalign)=(1,1,1,1,1)
#-4FS_ETC.c:Comment:  Number of combinations of fibre-coupling parameters: 1 (NIQ,Ntilt,Nmisalign)=(1,1,1)
#-4FS_ETC.c:Comment:  Requested fibrecoupling params [tilt,IQ,misalign]=[    6,  1.1,  0.1] => found nearest [tilt,IQ,misalign]=[    6,  1.1,  0.1] =>Trans=0.3318
#-4FS_ETC.c:Comment:  Setting up spectrograph arm: LRS_blue
#-4FS_ETC.c:Comment:  Spectrograph arm LRS_blue : response matrix has dimensions 12288x6144
#-4FS_ETC.c:Comment:  Setting up spectrograph arm: LRS_green
#-4FS_ETC.c:Comment:  Spectrograph arm LRS_green : response matrix has dimensions 12288x6144
#-4FS_ETC.c:Comment:  Setting up spectrograph arm: LRS_red
#-4FS_ETC.c:Comment:  Spectrograph arm LRS_red : response matrix has dimensions 12288x6144
#-4FS_ETC.c:Comment:  Folding 1x6144 sky emission vectors through spectrograph arm: LRS_blue
#-4FS_ETC.c:Comment:  Folding sky emission vector   1 through spectrograph arm: LRS_blue
#-4FS_ETC.c:Comment:  Folding 1x6144 sky emission vectors through spectrograph arm: LRS_green
#-4FS_ETC.c:Comment:  Folding sky emission vector   1 through spectrograph arm: LRS_green
#-4FS_ETC.c:Comment:  Folding 1x6144 sky emission vectors through spectrograph arm: LRS_red
#-4FS_ETC.c:Comment:  Folding sky emission vector   1 through spectrograph arm: LRS_red
#-ETC_rules_lib:Warning:  No rulelist specified
#-ETC_rules_lib:Warning:  No rulesetlist specified
#-4FS_ETC.c:Comment:  Template list file contained 1 valid line:
#-4FS_ETC.c:Warning:  Incomplete wavelength overlap between template: "TestSpectrum_ETCout/TestSpectrum.fits" and filter: "SDSS z" (t=[3000:10000]AA f=[7780:11180]AA)
#-4FS_ETC.c:Comment:  PROCESSING_TIME End of setup phase. It took 0.164 seconds
#-4FS_ETC.c:Comment:  Working on template index=   1/1 name=TestSpectrum: mag0=19.80  mag_norm[0]=21.87  Nmag=1    Ncond*Ntexp=1 z=0     ruleset=NONE                 inputfile=TestSpectrum_ETCout/TestSpectrum.fits
#-4FS_ETC.c:Comment:  Output ASCII summary file can be found here: "TestSpectrum_ETCout//4FS_ETC_summary.txt"
#-4FS_ETC.c:Comment:  PROCESSING_TIME End of processing. It took 0.192 seconds
